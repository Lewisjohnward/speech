(this.webpackJsonpspeach=this.webpackJsonpspeach||[]).push([[0],{148:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(38),i=n.n(a),o=(n(148),n(7)),u=n.n(o),s=n(39),l=n(3),d=n(6),j=n(15),b=n.n(j),f=n(4),O=n(1),m=function(e){var t,n=e.audio,r=e.time,a=e.duration,i=Object(c.useState)(null),o=Object(l.a)(i,2),u=o[0],s=o[1];if(Object(c.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:512};return new Promise((function(e,t){b.a.createFromAudio(n,(function(n,c){n?t(n):e(c)}))}))})).then((function(e){s(e)}))}}),[n]),!u)return null;var j=1200,m=200,h=10,v=10,x=m-h-10,g=j-v-10,p=u.channel(0),y=p.min_array(),k=p.max_array(),w=Object(f.f)().domain([0,u.length]).range([0,g]),F=Object(f.f)().domain([Object(f.c)(y),Object(f.b)(k)]).range([x,0]).nice(),S=Object(f.f)().domain([0,a]).range([0,g]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("svg",{height:m,width:j,children:[Object(O.jsx)("rect",{x:0,y:0,height:m,width:j,stroke:"black",fill:"none"}),Object(O.jsxs)("g",{transform:"translate(".concat(v,", ").concat(h,")"),children:[Object(O.jsx)("rect",{x:0,y:0,height:x,width:g,stroke:"black",strokeWidth:.05,fill:"none"}),Object(O.jsx)("path",{stroke:"mediumvioletred",d:Object(f.a)().x((function(e,t){return w(t)})).y0((function(e){return F(e)})).y1((function(e){return F(e)}))(k)}),Object(O.jsx)("path",{fill:"black",stroke:"mediumvioletred",d:Object(f.a)().x((function(e,t){return w(t)})).y0((function(e){return F(e)})).y1((function(e){return F(e)}))(y)}),r&&Object(O.jsx)("g",{transform:"translate(".concat(S(r),", 0)"),children:Object(O.jsx)("line",{stroke:"darkcyan",y1:x})})]}),Object(O.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(d.a)(t,"opacity",.7),Object(d.a)(t,"children",(a-r).toFixed(2)),t))]})})},h=n(24),v=function(e){var t,n=e.audio,r=e.time,a=e.duration,i=Object(c.useState)(null),o=Object(l.a)(i,2),u=o[0],s=o[1];if(Object(c.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:512};return new Promise((function(e,t){b.a.createFromAudio(n,(function(n,c){n?t(n):e(c)}))}))})).then((function(e){s(e)}))}}),[n]),!u)return null;var j=1200,m=200,h=10,v=10,x=m-h-10,g=j-v-10,p=x/2,y=u.channel(0),k=y.min_array(),w=y.max_array(),F=Object(f.e)().domain(Object(f.d)(u.length)).range([0,g]),S=Object(f.f)().domain([0,Object(f.b)(w,(function(e){return e}))]).range([p,0]).nice(),N=Object(f.f)().domain([0,Object(f.c)(k,(function(e){return e}))]).range([x,p]).nice(),_=Object(f.f)().domain([0,a]).range([0,g]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("svg",{height:m,width:j,children:[Object(O.jsx)("rect",{height:m,width:j,stroke:"black",fill:"none"}),Object(O.jsxs)("g",{transform:"translate(".concat(v,", ").concat(h,")"),children:[Object(O.jsx)("rect",{height:x,width:g,stroke:"black",strokeWidth:.05,fill:"none"}),w.map((function(e,t){return Object(O.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.1,x:F(t),y:S(e),width:F.bandwidth(),height:p-S(e)})})),k.map((function(e,t){return Object(O.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.1,x:F(t),y:p,width:F.bandwidth(),height:x-N(e)})})),r&&Object(O.jsx)("g",{transform:"translate(".concat(_(r),", 0)"),children:Object(O.jsx)("line",{stroke:"darkcyan",y1:x})})]}),Object(O.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(d.a)(t,"opacity",.7),Object(d.a)(t,"children",(a-r).toFixed(2)),t))]})})},x=function(e){var t,n=e.time,c=e.duration,r=1200,a=200,i=10,o=10,u=a-i-10,s=r-o-10,l=Object(f.f)().domain([0,c]).range([0,s]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("svg",{height:a,width:r,children:[Object(O.jsx)("rect",{height:a,width:r,stroke:"black",fill:"none"}),Object(O.jsx)("g",{transform:"translate(".concat(o,", ").concat(i,")"),children:n&&Object(O.jsx)("g",{transform:"translate(".concat(l(n),", 0)"),children:Object(O.jsx)("line",{stroke:"darkcyan",y1:u})})}),Object(O.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(d.a)(t,"opacity",.7),Object(d.a)(t,"children",(c-n).toFixed(2)),t))]})})};function g(){var e,t,n,r,a=Object(c.useState)(!1),i=Object(l.a)(a,2),o=i[0],d=i[1],j=Object(c.useState)(!1),b=Object(l.a)(j,2),f=b[0],v=b[1],x=Object(c.useState)(null),g=Object(l.a)(x,2),p=g[0],y=g[1],k=Object(c.useState)(null),w=Object(l.a)(k,2),F=w[0],S=w[1],N=Object(c.useState)(null),_=Object(l.a)(N,2),A=_[0],E=_[1],P=Object(c.useState)(0),C=Object(l.a)(P,2),M=C[0],T=C[1],B=Object(c.useState)(0),R=Object(l.a)(B,2),U=R[0],q=R[1],L=Object(c.useRef)(),W=Object(c.useRef)();Object(c.useEffect)((function(){if(F){F.start();var e=[];F.ondataavailable=function(t){e.push(t.data)},F.onstop=function(t){var n=new Blob(e,{type:"audio/wav"});e=[];var c=window.URL.createObjectURL(n);E(c)}}}),[F]),Object(c.useEffect)((function(){document.getElementsByClassName("app_audio")[0].src=A}),[A]),Object(c.useEffect)((function(){var e=Math.floor(L.current.duration);T(e)}),[null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.loadedmetadata,null===L||void 0===L||null===(t=L.current)||void 0===t?void 0:t.readyState]),Object(c.useEffect)((function(){var e=L.current.duration.toFixed(2);console.log(e),T(e)}),[null===L||void 0===L||null===(n=L.current)||void 0===n?void 0:n.loadedmetadata,null===L||void 0===L||null===(r=L.current)||void 0===r?void 0:r.readyState]);var G=function(){var e=f;v(!e),e?cancelAnimationFrame(W.current):W.current=requestAnimationFrame(D)},D=function e(){I(),W.current=requestAnimationFrame(e)},I=function(){q(L.current.currentTime)},J=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,y(t),S(new MediaRecorder(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)("div",{className:"app__container",children:Object(O.jsx)("audio",{onPlay:G,onPause:G,onEnded:function(){v(!1),q(0),L.current.currentTime=0},preload:"auto",ref:L,controls:!0,className:"app_audio"})}),Object(O.jsx)("div",{className:"app__input",children:o?Object(O.jsx)("button",{onClick:function(){d(!1),p.getTracks()[0].stop(),setTimeout((function(){F.stop()}),500)},children:Object(O.jsx)(h.b,{})}):Object(O.jsx)("button",{onClick:J,children:Object(O.jsx)(h.a,{})})}),A&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m,{audio:A,time:U,duration:M})})]})}navigator.userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var p=n.p+"static/media/veroeproprio.f8a40d8b.wav",y=n(25),k=n(41),w=n(40),F=(n(160),function(){var e,t,n=Object(c.useState)(!1),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(0),u=Object(l.a)(o,2),s=u[0],d=u[1],j=Object(c.useState)(0),b=Object(l.a)(j,2),f=b[0],m=b[1],h=Object(c.useRef)(),v=Object(c.useRef)(),x=Object(c.useRef)();Object(c.useEffect)((function(){var e=Math.floor(h.current.duration);d(e),v.current.max=e}),[null===h||void 0===h||null===(e=h.current)||void 0===e?void 0:e.loadedmetadata,null===h||void 0===h||null===(t=h.current)||void 0===t?void 0:t.readyState]);var g=function e(){v.current.value=h.current.currentTime,S(),x.current=requestAnimationFrame(e)},F=function(){h.current.currentTime=v.current.value,S()},S=function(){v.current.style.setProperty("--seek-before-width","".concat(v.current.value/s*100,"%")),m(v.current.value)},N=function(e){var t=Math.floor(e/60),n=t<10?"0".concat(t):"".concat(t),c=Math.floor(e%60),r=c<10?"0".concat(c):"".concat(c);return"".concat(n,":").concat(r)};return Object(O.jsxs)("div",{className:"audioPlayer",children:[Object(O.jsx)("audio",{onEnded:function(){i(!1),m(0),h.current.currentTime=0},ref:h,src:p}),Object(O.jsxs)("div",{className:"audioPlayerSlider",children:[Object(O.jsx)("div",{className:"currentTime",children:N(f)}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{onChange:F,ref:v,className:"progressBar",type:"range",defaultValue:"0"})}),Object(O.jsx)("div",{className:"duration",children:s&&!isNaN(s)&&N(s)})]}),Object(O.jsxs)("div",{className:"audioPlayerButtons",children:[Object(O.jsx)("button",{onClick:function(){v.current.value=Number(v.current.value-1),F()},className:"forwardBackward",children:Object(O.jsx)(y.a,{})}),Object(O.jsx)("button",{className:"playPause",onClick:function(){var e=a;i(!e),e?(h.current.pause(),cancelAnimationFrame(x.current)):(h.current.play(),x.current=requestAnimationFrame(g))},children:a?Object(O.jsx)(w.a,{}):Object(O.jsx)(k.a,{className:"play"})}),Object(O.jsx)("button",{onClick:function(){v.current.value=Number(v.current.value+1),F()},className:"forwardBackward",children:Object(O.jsx)(y.b,{})})]})]})}),S=function(){var e,t,n=Object(c.useState)(0),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),s=u[0],d=u[1],j=Object(c.useState)(0),b=Object(l.a)(j,2),f=b[0],h=b[1],g=Object(c.useRef)(),y=Object(c.useRef)();Object(c.useEffect)((function(){var e=g.current.duration.toFixed(2);console.log(e),i(e)}),[null===g||void 0===g||null===(e=g.current)||void 0===e?void 0:e.loadedmetadata,null===g||void 0===g||null===(t=g.current)||void 0===t?void 0:t.readyState]);var k=function(){var e=s;d(!e),e?cancelAnimationFrame(y.current):y.current=requestAnimationFrame(w)},w=function e(){F(),y.current=requestAnimationFrame(e)},F=function(){h(g.current.currentTime)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("audio",{onPlay:k,onPause:k,onEnded:function(){d(!1),h(0),g.current.currentTime=0},ref:g,controls:!0,className:"app_audio",src:p,preload:"auto"}),Object(O.jsx)(m,{audio:p,time:f,duration:a}),Object(O.jsx)(v,{audio:p,time:f,duration:a}),Object(O.jsx)(x,{time:f,duration:a})]})};var N=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(F,{}),Object(O.jsx)(g,{}),Object(O.jsx)(S,{})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root")),_()}},[[161,1,2]]]);
//# sourceMappingURL=main.75174c03.chunk.js.map