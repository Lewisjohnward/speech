(this.webpackJsonpspeach=this.webpackJsonpspeach||[]).push([[0],{120:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a,c,r,i,o,s,u=n(2),d=n.n(u),l=n(36),j=n.n(l),b=(n(120),n(37)),O=n(1),f=function(){return Object(O.jsx)(b.a,{id:"options",className:"icon"})},p=n(3),x=n.p+"static/media/01-\xc8 un grande sollievo scriverne.e253fcbf.mp3",v=n.p+"static/media/02-Non ho pi\xf9 dormito bene da quando ho ritrovato mio zio Otto morto.37ee7dfc.mp3",m=n.p+"static/media/03-e pi\xf9 di una volta mi sono veramente doman-dato se fossi diventato pazzo o se lo diventer\xf2.5db87318.mp3",h=n.p+"static/media/04- In un certo senso sarebbe stato tutto pi\xf9 misericordioso se non avessi avuto l_oggetto qui, nel mio studio, dove posso guardarlo e prenderlo in mano e soppesarlo se voglio.6b53639b.mp3",g=n(38),y=function(e){var t=e.replay,n=e.setReplay;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(g.a,{onClick:n,color:t?"darkOrchid":"white"})})},k=n(7),w=n(8),S=n(12),F=n(43),C=n(27),R=n(44),M=n(15),E=n(11),T=n(39),U=n.n(T),A=n(9),P=1200,z=200,N=10,q=10,_=z-N-10,B=P-q-10,D=_/2,G=function(e){var t,n=e.audio,a=e.time,c=e.duration,r=Object(u.useState)(null),i=Object(p.a)(r,2),o=i[0],s=i[1];if(Object(u.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:1024};return new Promise((function(e,t){U.a.createFromAudio(n,(function(n,a){n?t(n):e(a)}))}))})).then((function(e){s(e)}))}}),[n]),!o||!n)return Object(O.jsxs)("svg",{height:z,width:P,children:[Object(O.jsx)("rect",{height:z,width:P,stroke:"black",fill:"none"}),Object(O.jsxs)("g",{transform:"translate(".concat(q,", ").concat(N,")"),children:[Object(O.jsx)("text",{className:"svg-label",children:"Waveform"}),Object(O.jsx)("rect",{height:_,width:B,stroke:"black",strokeWidth:.05,fill:"none"})]})]});var d=o.channel(0),l=d.min_array(),j=d.max_array(),b=Object(A.d)().domain(Object(A.c)(o.length)).range([0,B]),f=Object(A.e)().domain([0,Object(A.a)(j,(function(e){return e}))]).range([D,0]).nice(),x=Object(A.e)().domain([0,Object(A.b)(l,(function(e){return e}))]).range([_,D]).nice(),v=Object(A.e)().domain([0,c]).range([0,B]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("svg",{height:z,width:P,children:[Object(O.jsx)("rect",{height:z,width:P,stroke:"black",fill:"none"}),Object(O.jsxs)("g",{transform:"translate(".concat(q,", ").concat(N,")"),children:[Object(O.jsx)("text",{className:"svg-label",children:"Waveform"}),Object(O.jsx)("rect",{height:_,width:B,stroke:"black",strokeWidth:.05,fill:"none"}),j.map((function(e,t){return Object(O.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.05,x:b(t),y:f(e),width:b.bandwidth(),height:D-f(e)})})),l.map((function(e,t){return Object(O.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.05,x:b(t),y:D,width:b.bandwidth(),height:_-x(e)})})),a&&Object(O.jsx)("g",{transform:"translate(".concat(v(a),", 0)"),children:Object(O.jsx)("line",{stroke:"darkcyan",y1:_})})]}),Object(O.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(E.a)(t,"opacity",.7),Object(E.a)(t,"children",(c-a).toFixed(2)),t))]})})},L=w.a.div(a||(a=Object(k.a)(["\n  display: flex;\n"]))),V=w.a.div(c||(c=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n  background: black;\n  color: white;\n  stroke: white;\n  border-radius: 5px 0px 0px 5px;\n\n  polygon {\n    stroke: currentColor;\n  }\n  path {\n    stroke: currentColor;\n  }\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),W=w.a.div(r||(r=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),I=function(e){var t=e.togglePlay,n=e.replay,a=e.setReplay,c=e.audio,r=e.time,i=e.duration,o=e.isPlaying,s=e.randomiseTrack;return Object(O.jsxs)(L,{children:[Object(O.jsxs)(V,{children:[Object(O.jsx)("div",{onClick:t,children:o?Object(O.jsx)(S.a,{}):Object(O.jsx)(S.b,{})}),Object(O.jsx)(y,{replay:n,setReplay:a}),Object(O.jsx)(F.a,{onClick:s})]}),Object(O.jsxs)(W,{children:[Object(O.jsx)(M.a,{}),Object(O.jsx)(C.a,{}),Object(O.jsx)(C.b,{}),Object(O.jsx)(R.a,{})]}),Object(O.jsx)(G,{audio:c,time:r,duration:i})]})},J=function(){var e,t,n=Object(u.useState)(0),a=Object(p.a)(n,2),c=a[0],r=a[1],i=Object(u.useState)(!1),o=Object(p.a)(i,2),s=o[0],d=o[1],l=Object(u.useState)(0),j=Object(p.a)(l,2),b=j[0],f=j[1],g=Object(u.useState)(!1),y=Object(p.a)(g,2),k=y[0],w=y[1],S=Object(u.useState)(0),F=Object(p.a)(S,2),C=F[0],R=F[1],M=Object(u.useRef)(),E=Object(u.useRef)();Object(u.useEffect)((function(){var e=M.current.duration.toFixed(2);r(e)}),[null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.loadedmetadata,null===M||void 0===M||null===(t=M.current)||void 0===t?void 0:t.readyState]);var T=function e(){A(),E.current=requestAnimationFrame(e)},U=function(){d(!1),f(0),M.current.currentTime=0},A=function(){f(M.current.currentTime)};Object(u.useEffect)((function(){P()}),[]);var P=function(){R(Math.floor(Math.random()*z.length))},z=[x,v,m,h],N=z[C];return console.log("%cTestAudio.js line:70 audio","color: #007acc;",N),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{id:"audioPlayer",children:Object(O.jsx)("audio",{onEnded:U,ref:M,src:N,loop:!!k,preload:"auto"})}),"".concat(C," /  ").concat(z.length),Object(O.jsx)(I,{togglePlay:function(){var e=s;d(!e),e?(M.current.pause(),cancelAnimationFrame(E.current)):(M.current.play(),E.current=requestAnimationFrame(T))},isPlaying:s,onEnded:U,replay:k,setReplay:function(){w(!k)},audio:N,time:b,duration:c,randomiseTrack:function(){P()}})]})},H=n(5),K=n.n(H),Q=n(19),X=n(45),Y=function(e){var t=e.handleDelete;return Object(O.jsx)(X.a,{onClick:t})},Z=function(e){var t=e.playing,n=e.stopVideo,a=e.startVideo;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(M.c,{onClick:n,color:t?"darkOrchid":"white"}):Object(O.jsx)(M.b,{onClick:a,color:t?"darkOrchid":"white"})})},$=w.a.div(i||(i=Object(k.a)(["\n  display: flex;\n"]))),ee=w.a.div(o||(o=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n  background: black;\n  color: white;\n  stroke: white;\n  border-radius: 5px 0px 0px 5px;\n\n  polygon {\n    stroke: currentColor;\n  }\n  path {\n    stroke: currentColor;\n  }\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),te=w.a.div(s||(s=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"])));navigator.userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var ne=function(){var e,t,n=Object(u.useState)(!1),a=Object(p.a)(n,2),c=a[0],r=a[1],i=Object(u.useState)(!1),o=Object(p.a)(i,2),s=o[0],d=o[1],l=Object(u.useState)(null),j=Object(p.a)(l,2),b=j[0],f=j[1],x=Object(u.useState)(null),v=Object(p.a)(x,2),m=v[0],h=v[1],g=Object(u.useState)(null),k=Object(p.a)(g,2),w=k[0],F=k[1],C=Object(u.useState)(0),R=Object(p.a)(C,2),M=R[0],E=R[1],T=Object(u.useState)(0),U=Object(p.a)(T,2),A=U[0],P=U[1],z=Object(u.useState)(!1),N=Object(p.a)(z,2),q=N[0],_=N[1],B=Object(u.useRef)(),D=Object(u.useRef)();Object(u.useEffect)((function(){if(m){m.start();var e=[];m.ondataavailable=function(t){e.push(t.data)},m.onstop=function(t){var n=new Blob(e,{type:"audio/wav"});e=[];var a=window.URL.createObjectURL(n);F(a)}}}),[m]),Object(u.useEffect)((function(){document.getElementsByClassName("app_audio")[0].src=w}),[w]),Object(u.useEffect)((function(){var e=B.current.duration.toFixed(2);E(e)}),[null===B||void 0===B||null===(e=B.current)||void 0===e?void 0:e.loadedmetadata,null===B||void 0===B||null===(t=B.current)||void 0===t?void 0:t.readyState]);var L=function e(){V(),D.current=requestAnimationFrame(e)},V=function(){P(B.current.currentTime)},W=function(){var e=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,f(t),h(new MediaRecorder(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsxs)($,{children:[Object(O.jsx)("audio",{onEnded:function(){d(!1),P(0),B.current.currentTime=0},preload:"auto",ref:B,src:w,loop:!!q}),Object(O.jsxs)(ee,{children:[Object(O.jsx)(Z,{playing:c,stopVideo:function(){r(!1),b.getTracks()[0].stop(),setTimeout((function(){m.stop()}),500)},startVideo:W}),Object(O.jsx)("div",{onClick:function(){var e=s;d(!e),e?(B.current.pause(),cancelAnimationFrame(D.current)):(B.current.play(),D.current=requestAnimationFrame(L))},children:s?Object(O.jsx)(S.a,{}):Object(O.jsx)(S.b,{})}),Object(O.jsx)(y,{replay:q,setReplay:function(){_(!q)}})]}),Object(O.jsx)(te,{children:Object(O.jsx)(Y,{handleDelete:function(){F(null)}})}),Object(O.jsx)(G,{audio:w,time:A,duration:M})]}),Object(O.jsx)(O.Fragment,{})]})})};function ae(){var e,t,n=Object(u.useState)(!1),a=Object(p.a)(n,2),c=a[0],r=a[1],i=Object(u.useState)(!1),o=Object(p.a)(i,2),s=o[0],d=o[1],l=Object(u.useState)(null),j=Object(p.a)(l,2),b=j[0],f=j[1],x=Object(u.useState)(null),v=Object(p.a)(x,2),m=v[0],h=v[1],g=Object(u.useState)(null),k=Object(p.a)(g,2),w=k[0],S=k[1],F=Object(u.useState)(0),C=Object(p.a)(F,2),R=C[0],M=C[1],E=Object(u.useState)(0),T=Object(p.a)(E,2),U=T[0],A=T[1],P=Object(u.useState)(!1),z=Object(p.a)(P,2),N=z[0],q=z[1],_=Object(u.useRef)(),B=Object(u.useRef)();Object(u.useEffect)((function(){if(m){m.start();var e=[];m.ondataavailable=function(t){e.push(t.data)},m.onstop=function(t){var n=new Blob(e,{type:"audio/wav"});e=[];var a=window.URL.createObjectURL(n);S(a)}}}),[m]),Object(u.useEffect)((function(){document.getElementsByClassName("app_audio")[0].src=w}),[w]),Object(u.useEffect)((function(){var e=_.current.duration.toFixed(2);M(e)}),[null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.loadedmetadata,null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.readyState]);var D=function(){var e=s;d(!e),e?cancelAnimationFrame(B.current):B.current=requestAnimationFrame(L)},L=function e(){V(),B.current=requestAnimationFrame(e)},V=function(){A(_.current.currentTime)},W=function(){var e=Object(Q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,f(t),h(new MediaRecorder(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsxs)("div",{id:"audioControls",children:[Object(O.jsx)(Y,{handleDelete:function(){S(null)}}),Object(O.jsx)(Z,{playing:c,stopVideo:function(){r(!1),b.getTracks()[0].stop(),setTimeout((function(){m.stop()}),500)},startVideo:W}),Object(O.jsx)("audio",{onPlay:D,onPause:D,onEnded:function(){d(!1),A(0),_.current.currentTime=0},preload:"auto",ref:_,controls:!0,className:"app_audio",loop:!!N}),Object(O.jsx)(y,{replay:N,setReplay:q})]}),w&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(G,{audio:w,time:U,duration:R})})]})}navigator.userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var ce=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(f,{}),Object(O.jsx)(ae,{}),Object(O.jsx)(J,{}),Object(O.jsx)(ne,{})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(136);j.a.render(Object(O.jsx)(d.a.StrictMode,{children:Object(O.jsx)(ce,{})}),document.getElementById("root")),re()}},[[137,1,2]]]);
//# sourceMappingURL=main.d7c4981e.chunk.js.map