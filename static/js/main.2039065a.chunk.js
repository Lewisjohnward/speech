(this.webpackJsonpspeach=this.webpackJsonpspeach||[]).push([[0],{120:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o,s,l,d,j,u=n(2),b=n.n(u),O=n(35),f=n.n(O),x=(n(120),n(36)),h=n(1),p=function(){return Object(h.jsx)(x.a,{id:"options",className:"icon"})},m=n(3),v=n.p+"static/media/01-\xc8 un grande sollievo scriverne.e253fcbf.mp3",g=n.p+"static/media/02-Non ho pi\xf9 dormito bene da quando ho ritrovato mio zio Otto morto.37ee7dfc.mp3",y=n.p+"static/media/03-e pi\xf9 di una volta mi sono veramente doman-dato se fossi diventato pazzo o se lo diventer\xf2.5db87318.mp3",k=n.p+"static/media/04- In un certo senso sarebbe stato tutto pi\xf9 misericordioso se non avessi avuto l_oggetto qui, nel mio studio.6b53639b.mp3",w=n(5),F=n(6),S=n(12),C=n(42),R=n(26),M=n(43),N=n(15),T=n(37),z=function(e){var t=e.replay,n=e.setReplay;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(T.a,{onClick:n,color:t?"darkOrchid":"white"})})},A=n(11),E=n(38),P=n.n(E),q=n(9),U=1200,W=200,_=10,B=10,D=W-_-10,L=U-B-10,V=D/2,G=function(e){var t,n=e.audio,c=e.time,r=e.duration,a=e.trackNum,i=Object(u.useState)(null),o=Object(m.a)(i,2),s=o[0],l=o[1];if(Object(u.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:1024};return new Promise((function(e,t){P.a.createFromAudio(n,(function(n,c){n?t(n):e(c)}))}))})).then((function(e){l(e)}))}}),[n]),!s||!n)return Object(h.jsxs)("svg",{height:W,width:U,children:[Object(h.jsx)("rect",{height:W,width:U,stroke:"black",fill:"none"}),Object(h.jsxs)("g",{transform:"translate(".concat(B,", ").concat(_,")"),children:[Object(h.jsx)("text",{className:"svg-label",children:"Waveform"}),Object(h.jsx)("rect",{height:D,width:L,stroke:"black",strokeWidth:.05,fill:"none"})]})]});var d=s.channel(0),j=d.min_array(),b=d.max_array(),O=Object(q.d)().domain(Object(q.c)(s.length)).range([0,L]),f=Object(q.e)().domain([0,Object(q.a)(b,(function(e){return e}))]).range([V,0]).nice(),x=Object(q.e)().domain([0,Object(q.b)(j,(function(e){return e}))]).range([D,V]).nice(),p=Object(q.e)().domain([0,r]).range([0,L]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("svg",{height:W,width:U,children:[Object(h.jsx)("rect",{height:W,width:U,stroke:"black",fill:"none"}),Object(h.jsxs)("g",{transform:"translate(".concat(B,", ").concat(_,")"),children:[Object(h.jsx)("text",{x:L,style:{textAnchor:"end"},className:"svg-label",opacity:.4,children:a}),Object(h.jsx)("text",{className:"svg-label",children:"Waveform"}),Object(h.jsx)("rect",{height:D,width:L,stroke:"black",strokeWidth:.05,fill:"none"}),b.map((function(e,t){return Object(h.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.05,x:O(t),y:f(e),width:O.bandwidth(),height:V-f(e)})})),j.map((function(e,t){return Object(h.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.05,x:O(t),y:V,width:O.bandwidth(),height:D-x(e)})})),c&&Object(h.jsx)("g",{transform:"translate(".concat(p(c),", 0)"),children:Object(h.jsx)("line",{stroke:"darkcyan",y1:D})})]}),Object(h.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(A.a)(t,"opacity",.7),Object(A.a)(t,"children",(r-c).toFixed(2)),t))]})})},I=5,J=5,H=function(){return Object(h.jsxs)("svg",{height:30,width:40,children:[Object(h.jsx)("rect",{height:30,width:40,fill:"bisque",rx:5}),Object(h.jsxs)("g",{transform:"translate(".concat(J,", ").concat(I,")"),children:[Object(h.jsx)("rect",{height:20,width:10,fill:"green"}),Object(h.jsx)("rect",{x:10,height:20,width:10,fill:"white"}),Object(h.jsx)("rect",{x:20,height:20,width:10,fill:"red"})]})]})},K=F.a.div(c||(c=Object(w.a)(["\n  display: flex;\n"]))),Q=F.a.div(r||(r=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n  background: black;\n  color: white;\n  stroke: white;\n  border-radius: 5px 0px 0px 5px;\n\n  polygon {\n    stroke: currentColor;\n  }\n  path {\n    stroke: currentColor;\n  }\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),X=F.a.div(a||(a=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),Y=F.a.div(i||(i=Object(w.a)(["\n\n\n"]))),Z=F.a.div(o||(o=Object(w.a)(["\n  margin-bottom: 0px;\n"]))),$=F.a.div(s||(s=Object(w.a)(["\n  display: flex;\n  margin-left: 90px;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 15px;\n\n"]))),ee=function(e){var t=e.text,n=e.togglePlay,c=e.replay,r=e.setReplay,a=e.audio,i=e.time,o=e.duration,s=e.isPlaying,l=e.randomiseTrack,d=e.trackNum;return Object(h.jsxs)(Y,{children:[Object(h.jsxs)($,{children:[Object(h.jsx)("p",{children:t}),Object(h.jsx)(Z,{children:Object(h.jsx)(H,{})})]}),Object(h.jsxs)(K,{children:[Object(h.jsxs)(Q,{children:[Object(h.jsx)("div",{onClick:n,children:s?Object(h.jsx)(S.a,{}):Object(h.jsx)(S.b,{})}),Object(h.jsx)(z,{replay:c,setReplay:r}),Object(h.jsx)(C.a,{onClick:l})]}),Object(h.jsxs)(X,{children:[Object(h.jsx)(N.a,{}),Object(h.jsx)(R.b,{}),Object(h.jsx)(R.a,{}),Object(h.jsx)(M.a,{})]}),Object(h.jsx)(G,{trackNum:d,audio:a,time:i,duration:o})]})]})},te=function(){var e,t,n=Object(u.useState)(0),c=Object(m.a)(n,2),r=c[0],a=c[1],i=Object(u.useState)(!1),o=Object(m.a)(i,2),s=o[0],l=o[1],d=Object(u.useState)(0),j=Object(m.a)(d,2),b=j[0],O=j[1],f=Object(u.useState)(!1),x=Object(m.a)(f,2),p=x[0],w=x[1],F=Object(u.useState)(0),S=Object(m.a)(F,2),C=S[0],R=S[1],M=Object(u.useRef)(),N=Object(u.useRef)();Object(u.useEffect)((function(){var e=M.current.duration.toFixed(2);a(e)}),[null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.loadedmetadata,null===M||void 0===M||null===(t=M.current)||void 0===t?void 0:t.readyState]);var T=function e(){A(),N.current=requestAnimationFrame(e)},z=function(){l(!1),O(0),M.current.currentTime=0},A=function(){O(M.current.currentTime)};Object(u.useEffect)((function(){E()}),[]);var E=function(){R(Math.floor(Math.random()*P.length))},P=[v,g,y,k],q=P[C];console.log(typeof v);var U=q.match(/(?<=\-).*?(?=\.)/)[0].replace("_","'");return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:"audioPlayer",children:Object(h.jsx)("audio",{onEnded:z,ref:M,src:q,loop:!!p,preload:"auto"})}),Object(h.jsx)(ee,{text:U,togglePlay:function(){var e=s;l(!e),e?(M.current.pause(),cancelAnimationFrame(N.current)):(M.current.play(),N.current=requestAnimationFrame(T))},isPlaying:s,onEnded:z,replay:p,setReplay:function(){w(!p)},audio:q,time:b,duration:r,randomiseTrack:function(){E()},trackNum:C})]})},ne=n(7),ce=n.n(ne),re=n(44),ae=n(45),ie=function(e){var t=e.handleDelete;return Object(h.jsx)(ae.a,{onClick:t})},oe=function(e){var t=e.playing,n=e.stopVideo,c=e.startVideo;return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(N.c,{onClick:n,color:t?"darkOrchid":"white"}):Object(h.jsx)(N.b,{onClick:c,color:t?"darkOrchid":"white"})})},se=F.a.div(l||(l=Object(w.a)(["\n  display: flex;\n"]))),le=F.a.div(d||(d=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n  background: black;\n  color: white;\n  stroke: white;\n  border-radius: 5px 0px 0px 5px;\n\n  polygon {\n    stroke: currentColor;\n  }\n  path {\n    stroke: currentColor;\n  }\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"]))),de=F.a.div(j||(j=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding-right: 10px;\n  padding-left: 10px;\n  font-size: 25px;\n\n  svg:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n"])));navigator.userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var je=function(){var e,t,n=Object(u.useState)(!1),c=Object(m.a)(n,2),r=c[0],a=c[1],i=Object(u.useState)(!1),o=Object(m.a)(i,2),s=o[0],l=o[1],d=Object(u.useState)(null),j=Object(m.a)(d,2),b=j[0],O=j[1],f=Object(u.useState)(null),x=Object(m.a)(f,2),p=x[0],v=x[1],g=Object(u.useState)(null),y=Object(m.a)(g,2),k=y[0],w=y[1],F=Object(u.useState)(0),C=Object(m.a)(F,2),R=C[0],M=C[1],N=Object(u.useState)(0),T=Object(m.a)(N,2),A=T[0],E=T[1],P=Object(u.useState)(!1),q=Object(m.a)(P,2),U=q[0],W=q[1],_=Object(u.useRef)(),B=Object(u.useRef)();Object(u.useEffect)((function(){if(p){p.start();var e=[];p.ondataavailable=function(t){e.push(t.data)},p.onstop=function(t){var n=new Blob(e,{type:"audio/wav"});e=[];var c=window.URL.createObjectURL(n);w(c)}}}),[p]),Object(u.useEffect)((function(){var e=_.current.duration.toFixed(2);M(e)}),[null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.loadedmetadata,null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.readyState]);var D=function e(){L(),B.current=requestAnimationFrame(e)},L=function(){E(_.current.currentTime)},V=function(){var e=Object(re.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,O(t),v(new MediaRecorder(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)(se,{children:[Object(h.jsx)("audio",{onEnded:function(){l(!1),E(0),_.current.currentTime=0},preload:"auto",ref:_,src:k,loop:!!U}),Object(h.jsxs)(le,{children:[Object(h.jsx)(oe,{playing:r,stopVideo:function(){a(!1),b.getTracks()[0].stop(),setTimeout((function(){p.stop()}),500)},startVideo:V}),k&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{onClick:function(){var e=s;l(!e),e?(_.current.pause(),cancelAnimationFrame(B.current)):(_.current.play(),B.current=requestAnimationFrame(D))},children:s?Object(h.jsx)(S.a,{}):Object(h.jsx)(S.b,{})}),Object(h.jsx)(z,{replay:U,setReplay:function(){W(!U)}})]})]}),Object(h.jsx)(de,{children:Object(h.jsx)(ie,{handleDelete:function(){w(null)}})}),Object(h.jsx)(G,{audio:k,time:A,duration:R})]})})})};var ue=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(p,{}),Object(h.jsx)(te,{}),Object(h.jsx)(je,{})]})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};n(136);f.a.render(Object(h.jsx)(b.a.StrictMode,{children:Object(h.jsx)(ue,{})}),document.getElementById("root")),be()}},[[137,1,2]]]);
//# sourceMappingURL=main.2039065a.chunk.js.map