(this.webpackJsonpspeach=this.webpackJsonpspeach||[]).push([[0],{150:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(38),i=n.n(r),o=(n(150),n(7)),u=n.n(o),s=n(39),j=n(3),d=n(6),l=n(16),b=n.n(l),O=n(4),f=n(1),h=function(e){var t,n=e.audio,a=e.time,r=e.duration,i=Object(c.useState)(null),o=Object(j.a)(i,2),u=o[0],s=o[1];if(Object(c.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:512};return new Promise((function(e,t){b.a.createFromAudio(n,(function(n,c){n?t(n):e(c)}))}))})).then((function(e){s(e)}))}}),[n]),!u)return null;var l=1200,h=200,m=10,x=10,v=h-m-10,p=l-x-10,g=u.channel(0),y=g.min_array(),k=g.max_array(),w=Object(O.f)().domain([0,u.length]).range([0,p]),F=Object(O.f)().domain([Object(O.c)(y),Object(O.b)(k)]).range([v,0]).nice(),S=Object(O.f)().domain([0,r]).range([0,p]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("svg",{height:h,width:l,children:[Object(f.jsx)("rect",{x:0,y:0,height:h,width:l,stroke:"black",fill:"none"}),Object(f.jsxs)("g",{transform:"translate(".concat(x,", ").concat(m,")"),children:[Object(f.jsx)("rect",{x:0,y:0,height:v,width:p,stroke:"black",strokeWidth:.05,fill:"none"}),Object(f.jsx)("path",{stroke:"mediumvioletred",d:Object(O.a)().x((function(e,t){return w(t)})).y0((function(e){return F(e)})).y1((function(e){return F(e)}))(k)}),Object(f.jsx)("path",{fill:"black",stroke:"mediumvioletred",d:Object(O.a)().x((function(e,t){return w(t)})).y0((function(e){return F(e)})).y1((function(e){return F(e)}))(y)}),a&&Object(f.jsx)("g",{transform:"translate(".concat(S(a),", 0)"),children:Object(f.jsx)("line",{stroke:"darkcyan",y1:v})})]}),Object(f.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(d.a)(t,"opacity",.7),Object(d.a)(t,"children",(r-a).toFixed(2)),t))]})})},m=n(40),x=function(e){var t=e.replay,n=e.setReplay;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(m.a,{onClick:function(){n(!t)},className:"replayIcon icon",color:t?"darkOrchid":"white"})})},v=n(41),p=function(e){var t=e.handleDelete;return Object(f.jsx)(v.a,{onClick:t,className:"bin icon"})},g=n(12),y=function(e){var t=e.playing,n=e.stopVideo,c=e.startVideo;return Object(f.jsx)(f.Fragment,{children:t?Object(f.jsx)(g.c,{className:"microphoneButton icon",onClick:n,color:t?"darkOrchid":"white"}):Object(f.jsx)(g.b,{className:"microphoneButton icon",onClick:c,color:t?"darkOrchid":"white"})})},k=n(25),w=n(42),F=function(){return Object(f.jsxs)("div",{className:"thumbsIconContainer",children:[Object(f.jsx)(g.a,{className:"thumb icon"}),Object(f.jsx)(k.a,{className:"thumb icon"}),Object(f.jsx)(k.b,{className:"thumb icon"}),Object(f.jsx)(w.a,{className:"thumb icon"})]})};function S(){var e,t,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),d=Object(j.a)(o,2),l=d[0],b=d[1],O=Object(c.useState)(null),m=Object(j.a)(O,2),v=m[0],g=m[1],k=Object(c.useState)(null),w=Object(j.a)(k,2),S=w[0],N=w[1],C=Object(c.useState)(null),_=Object(j.a)(C,2),A=_[0],E=_[1],R=Object(c.useState)(0),P=Object(j.a)(R,2),B=P[0],M=P[1],T=Object(c.useState)(0),U=Object(j.a)(T,2),q=U[0],D=U[1],I=Object(c.useState)(!1),L=Object(j.a)(I,2),V=L[0],W=L[1],G=Object(c.useRef)(),J=Object(c.useRef)();Object(c.useEffect)((function(){if(S){S.start();var e=[];S.ondataavailable=function(t){e.push(t.data)},S.onstop=function(t){var n=new Blob(e,{type:"audio/wav"});e=[];var c=window.URL.createObjectURL(n);E(c)}}}),[S]),Object(c.useEffect)((function(){document.getElementsByClassName("app_audio")[0].src=A}),[A]),Object(c.useEffect)((function(){var e=G.current.duration.toFixed(2);M(e)}),[null===G||void 0===G||null===(e=G.current)||void 0===e?void 0:e.loadedmetadata,null===G||void 0===G||null===(t=G.current)||void 0===t?void 0:t.readyState]);var z=function(){var e=l;b(!e),e?cancelAnimationFrame(J.current):J.current=requestAnimationFrame(H)},H=function e(){K(),J.current=requestAnimationFrame(e)},K=function(){D(G.current.currentTime)},Q=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,g(t),N(new MediaRecorder(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsxs)("div",{id:"audioControls",children:[Object(f.jsx)(p,{handleDelete:function(){E(null)}}),Object(f.jsx)(y,{playing:r,stopVideo:function(){i(!1),v.getTracks()[0].stop(),setTimeout((function(){S.stop()}),500)},startVideo:Q}),Object(f.jsx)("audio",{onPlay:z,onPause:z,onEnded:function(){b(!1),D(0),G.current.currentTime=0},preload:"auto",ref:G,controls:!0,className:"app_audio",loop:!!V}),Object(f.jsx)(x,{replay:V,setReplay:W})]}),Object(f.jsx)(F,{}),A&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(h,{audio:A,time:q,duration:B})})]})}navigator.userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var N=n(43),C=function(){return Object(f.jsx)(N.a,{id:"options",className:"icon"})},_=n.p+"static/media/veroeproprio.f8a40d8b.wav",A=function(e){var t,n=e.audio,a=e.time,r=e.duration,i=Object(c.useState)(null),o=Object(j.a)(i,2),u=o[0],s=o[1];if(Object(c.useEffect)((function(){if(n){var e=new AudioContext;fetch(n).then((function(e){return e.arrayBuffer()})).then((function(t){var n={audio_context:e,array_buffer:t,scale:512};return new Promise((function(e,t){b.a.createFromAudio(n,(function(n,c){n?t(n):e(c)}))}))})).then((function(e){s(e)}))}}),[n]),!u)return null;var l=1200,h=200,m=10,x=10,v=h-m-10,p=l-x-10,g=v/2,y=u.channel(0),k=y.min_array(),w=y.max_array(),F=Object(O.e)().domain(Object(O.d)(u.length)).range([0,p]),S=Object(O.f)().domain([0,Object(O.b)(w,(function(e){return e}))]).range([g,0]).nice(),N=Object(O.f)().domain([0,Object(O.c)(k,(function(e){return e}))]).range([v,g]).nice(),C=Object(O.f)().domain([0,r]).range([0,p]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("svg",{height:h,width:l,children:[Object(f.jsx)("rect",{height:h,width:l,stroke:"black",fill:"none"}),Object(f.jsxs)("g",{transform:"translate(".concat(x,", ").concat(m,")"),children:[Object(f.jsx)("rect",{height:v,width:p,stroke:"black",strokeWidth:.05,fill:"none"}),w.map((function(e,t){return Object(f.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.1,x:F(t),y:S(e),width:F.bandwidth(),height:g-S(e)})})),k.map((function(e,t){return Object(f.jsx)("rect",{fill:"greenyellow",stroke:"black",strokeWidth:.1,x:F(t),y:g,width:F.bandwidth(),height:v-N(e)})})),a&&Object(f.jsx)("g",{transform:"translate(".concat(C(a),", 0)"),children:Object(f.jsx)("line",{stroke:"darkcyan",y1:v})})]}),Object(f.jsx)("text",(t={x:1165,y:197,stroke:"darkmagenta",opacity:1,fontStyle:"italic"},Object(d.a)(t,"opacity",.7),Object(d.a)(t,"children",(r-a).toFixed(2)),t))]})})},E=function(){var e,t,n=Object(c.useState)(0),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),u=Object(j.a)(o,2),s=u[0],d=u[1],l=Object(c.useState)(0),b=Object(j.a)(l,2),O=b[0],m=b[1],v=Object(c.useState)(!1),p=Object(j.a)(v,2),g=p[0],y=p[1],k=Object(c.useRef)(),w=Object(c.useRef)();Object(c.useEffect)((function(){var e=k.current.duration.toFixed(2);i(e)}),[null===k||void 0===k||null===(e=k.current)||void 0===e?void 0:e.loadedmetadata,null===k||void 0===k||null===(t=k.current)||void 0===t?void 0:t.readyState]);var F=function(){var e=s;d(!e),e?cancelAnimationFrame(w.current):w.current=requestAnimationFrame(S)},S=function e(){N(),w.current=requestAnimationFrame(e)},N=function(){m(k.current.currentTime)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{id:"audioPlayer",children:[Object(f.jsx)("audio",{onPlay:F,onPause:F,onEnded:function(){d(!1),m(0),k.current.currentTime=0},ref:k,controls:!0,className:"app_audio",src:_,loop:!!g,preload:"auto"}),Object(f.jsx)(x,{replay:g,setReplay:y})]}),Object(f.jsx)(h,{audio:_,time:O,duration:r}),Object(f.jsx)(A,{audio:_,time:O,duration:r})]})};var R=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(C,{}),Object(f.jsx)(S,{}),Object(f.jsx)(E,{})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root")),P()}},[[162,1,2]]]);
//# sourceMappingURL=main.d53c1adb.chunk.js.map